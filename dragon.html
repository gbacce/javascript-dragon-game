<!DOCTYPE html>
<html>
<head>
	<title>Fight the dragons</title>

	<style type="text/css" media="screen">

	

	</style>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

</head>
<body>

<div id = "game-wrapper">
	<div class="text-center"><img src="./dragon-assets/dragon.png" name="dragonImage"></div>
	<div id="message" class="text-center">You have encountered a terrifying dragon. Do you fight?</div>
	<div class="text-center">
		<button class="btn btn-default" onclick="rollDice()">Fight!</button>
	</div>
	<div id="health"> 
	<div class="text-center">
		<img src="dragon-assets/d1.gif" name="die1Image">
		<img src="dragon-assets/d1.gif" name="die2Image">
	</div>


	<div class="container">

		<div class="row">
			<div class="col-md-12"></div>
			</hr>
			<div class="col-md-12"></div>
		</div>

		<div class="row">
			<div class="col-md-offset-4 col-md-2" id="heroHealthDisplay">
			</div>
			<div class="col-md-2" id="dragonHealthDisplay">
			</div>
		</div>
	</div>





<script type="text/javascript">

	var heroHealth = 20;
	var dragonHealth = 20;

	document.getElementById('heroHealthDisplay').innerHTML = "Health: " + heroHealth;
	document.getElementById('dragonHealthDisplay').innerHTML = "Dragon Health: " + dragonHealth;


	

		function rollDice() {
			console.log("The user clicked the Fight button");

			while ((heroHealth > 0) && (dragonHealth > 0)) {
				//Hero Roll
				var randomDie1 = Math.ceil(Math.random() * 6);
				var randomDie2 = Math.ceil(Math.random() * 6);
				console.log(randomDie1);
				console.log(randomDie2);
				var die1 = "dragon-assets/d" + randomDie1 + ".gif";
				var die2 = "dragon-assets/d" + randomDie2 + ".gif";
				document.images.die1Image.src = die1;
				document.images.die2Image.src = die2;
				var heroAttack = (randomDie1 + randomDie2);

				//Dragon Roll
				var randomDie3 = Math.ceil(Math.random() * 6);
				var randomDie4 = Math.ceil(Math.random() * 6);
				console.log(randomDie3);
				console.log(randomDie4);
				var dragonAttack = (randomDie3 + randomDie4);

				//Hero Attack
				dragonHealth = dragonHealth - heroAttack;
				
				if (dragonHealth < 0) {
					document.getElementById('message').innerHTML = "You strike the dragon for " + heroAttack + " damage. You have slayed the dragon!";
					document.images.dragonImage.src = "https://s-media-cache-ak0.pinimg.com/736x/9c/86/3c/9c863c8728b424e22314f15d036fa2e0.jpg";
				}

				//Dragon Attack
				else if (dragonHealth > 0) {

					heroHealth = heroHealth - dragonAttack

					if (heroHealth > 0) {
							document.getElementById('message').innerHTML = "You strike the dragon for " + heroAttack + " damage! The dragon strikes you for " + dragonAttack + " damage.";
					}

					else if (heroHealth < 0) {
						document.getElementById('message').innerHTML = "The dragon strikes you for " + dragonAttack + " damage. You are dead!";
						document.images.dragonImage.src = "https://s-media-cache-ak0.pinimg.com/736x/9c/86/3c/9c863c8728b424e22314f15d036fa2e0.jpg";
					}
				}
			}
		
	

			if (heroHealth < 0) {
				document.getElementById('message').innerHTML = "You are dead! Refresh the page to play again.";
				document.images.dragonImage.src = "https://s-media-cache-ak0.pinimg.com/736x/9c/86/3c/9c863c8728b424e22314f15d036fa2e0.jpg";
			}

			if (dragonHealth < 0) {
				document.getElementById('message').innerHTML = "The dragon has been slayed! Refresh the page to play again.";
				document.images.dragonImage.src = "https://s-media-cache-ak0.pinimg.com/736x/9c/86/3c/9c863c8728b424e22314f15d036fa2e0.jpg";
			}
			
		}

		// 	else {
		// 		document.getElementById('message').innerHTML = "Refresh the page to play again!";
		// 	}
		// }
	


		// }

		// 	if(randomDie1 + randomDie2 > 8) {
		// 		document.images.dragonImage.src = "https://s-media-cache-ak0.pinimg.com/736x/9c/86/3c/9c863c8728b424e22314f15d036fa2e0.jpg";
		// 		document.getElementById('message').innerHTML = "You have defeated the dragon!";
		// 	} else {
		// 		document.images.dragonImage.src = "https://s-media-cache-ak0.pinimg.com/736x/9c/86/3c/9c863c8728b424e22314f15d036fa2e0.jpg";
		// 		document.getElementById('message').innerHTML = "You are toast.";
		// 	}
		// }






</script>
</body>
</html>